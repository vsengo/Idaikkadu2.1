{% extends 'web/base.html' %}

{% block content %}

<section class="py-5">
    <div class="container">

        <div class="row">
            <div class="col-12 " align="center">
                <h5>
                    Please upload photos by clicking the button below.
                </h5>
                <p>Select all the photos you want to upload and then click open button to
                    upload all the photos
                </p>

                <div style="margin-bottom: 20px;">
                    <button type="button" class="btn btn-primary js-upload-photos">
                        <span class="glyphicon glyphicon-cloud-upload"></span> Upload photos
                    </button>
                    <input id="fileupload" type="file" name="file" multiple
                           style="display: none;"
                           data-url="{% url 'photos:upload-photos' %}"
                           data-form-data='{"csrfmiddlewaretoken": "{{ csrf_token }}"}'>
                </div>

                <div class="modal fade" id="modal-progress" data-backdrop="static" data-keyboard="false">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4 class="modal-title">Uploading...</h4>
                            </div>
                            <div class="modal-body">
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" style="width: 0%;">0%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="upload-drop-zone">
                    Just drag and drop files here
                    <input id="fileupload2" type="file" name="file" multiple style="display: none;"
                           data-url="{% url 'photos:upload-photos' %}"
                           data-form-data='{"csrfmiddlewaretoken": "{{ csrf_token }}"}'>
                </div>
                <div>
                    <h3>Recently uploaded</h3>
                    <table id="gallery" class="table table-bordered">

                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock content %}

{% block javascript %}

{% load static %}

{# JQUERY FILE UPLOAD SCRIPTS #}
<script src="{% static 'js/jquery-file-upload/vendor/jquery.ui.widget.js' %}"></script>
<script src="{% static 'js/jquery-file-upload/jquery.iframe-transport.js' %}"></script>
<script src="{% static 'js/jquery-file-upload/jquery.fileupload.js' %}"></script>

{# PHOTOS PAGE SCRIPTS #}
<script src="{% static 'js/progress-bar-upload.js' %}"></script>
{% endblock %}